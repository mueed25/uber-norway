// Button Components

// Base button styles
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: $space-3 $btn-padding-x;
  font-size: $font-base;
  font-weight: $font-medium;
  line-height: 1;
  border: 1px solid transparent;
  border-radius: $border-radius;
  cursor: pointer;
  user-select: none;
  text-decoration: none;
  transition: all $transition-fast;
  white-space: nowrap;
  min-height: $btn-height;
  
  // Remove button defaults
  background: none;
  font-family: inherit;
  
  // Focus styles
  &:focus {
    outline: 2px solid $primary-black;
    outline-offset: 2px;
  }
  
  // Disabled state
  &:disabled,
  &.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  // Loading state
  &.loading {
    position: relative;
    color: transparent !important;
    
    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
  }
}

// Button variants
.btn-primary {
  background-color: $primary-black;
  color: $primary-white;
  border-color: $primary-black;
  
  &:hover:not(:disabled) {
    background-color: $gray-800;
    border-color: $gray-800;
  }
  
  &:active {
    background-color: $gray-900;
    border-color: $gray-900;
  }
  
  &.loading::after {
    border-color: $primary-white;
    border-right-color: transparent;
  }
}

.btn-secondary {
  background-color: $gray-100;
  color: $primary-black;
  border-color: $gray-100;
  
  &:hover:not(:disabled) {
    background-color: $gray-200;
    border-color: $gray-200;
  }
  
  &:active {
    background-color: $gray-300;
    border-color: $gray-300;
  }
}

.btn-outline {
  background-color: transparent;
  color: $primary-black;
  border-color: $gray-300;
  
  &:hover:not(:disabled) {
    background-color: $gray-50;
    border-color: $gray-400;
  }
  
  &:active {
    background-color: $gray-100;
    border-color: $gray-500;
  }
}

.btn-ghost {
  background-color: transparent;
  color: $primary-black;
  border-color: transparent;
  
  &:hover:not(:disabled) {
    background-color: $gray-100;
  }
  
  &:active {
    background-color: $gray-200;
  }
}

.btn-success {
  background-color: $success;
  color: $primary-white;
  border-color: $success;
  
  &:hover:not(:disabled) {
    background-color: darken($success, 10%);
    border-color: darken($success, 10%);
  }
  
  &:active {
    background-color: darken($success, 15%);
    border-color: darken($success, 15%);
  }
  
  &.loading::after {
    border-color: $primary-white;
    border-right-color: transparent;
  }
}

.btn-error {
  background-color: $error;
  color: $primary-white;
  border-color: $error;
  
  &:hover:not(:disabled) {
    background-color: darken($error, 10%);
    border-color: darken($error, 10%);
  }
  
  &:active {
    background-color: darken($error, 15%);
    border-color: darken($error, 15%);
  }
  
  &.loading::after {
    border-color: $primary-white;
    border-right-color: transparent;
  }
}

.btn-warning {
  background-color: $warning;
  color: $primary-white;
  border-color: $warning;
  
  &:hover:not(:disabled) {
    background-color: darken($warning, 10%);
    border-color: darken($warning, 10%);
  }
  
  &:active {
    background-color: darken($warning, 15%);
    border-color: darken($warning, 15%);
  }
  
  &.loading::after {
    border-color: $primary-white;
    border-right-color: transparent;
  }
}

// Button sizes
.btn-sm {
  padding: $space-2 $space-4;
  font-size: $font-sm;
  min-height: $btn-height-sm;
}

.btn-lg {
  padding: $space-4 $space-8;
  font-size: $font-lg;
  min-height: $btn-height-lg;
}

.btn-large {
  @extend .btn-lg;
}

// Button width modifiers
.btn-full-width {
  width: 100%;
}

.btn-auto {
  width: auto;
}

// Button groups
.btn-group {
  display: inline-flex;
  vertical-align: middle;
  
  .btn {
    position: relative;
    border-radius: 0;
    
    &:not(:first-child) {
      margin-left: -1px;
    }
    
    &:first-child {
      border-top-left-radius: $border-radius;
      border-bottom-left-radius: $border-radius;
    }
    
    &:last-child {
      border-top-right-radius: $border-radius;
      border-bottom-right-radius: $border-radius;
    }
    
    &:hover,
    &:focus,
    &:active {
      z-index: 1;
    }
  }
}

// Icon buttons
.btn-icon {
  padding: $space-3;
  min-width: $btn-height;
  
  &.btn-sm {
    padding: $space-2;
    min-width: $btn-height-sm;
  }
  
  &.btn-lg {
    padding: $space-4;
    min-width: $btn-height-lg;
  }
}

// Button with icon
.btn-with-icon {
  .btn-icon-left {
    margin-right: $space-2;
  }
  
  .btn-icon-right {
    margin-left: $space-2;
  }
}

// Spin animation for loading state
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// Button link style (looks like button, behaves like link)
a.btn {
  text-decoration: none;
  
  &:hover {
    text-decoration: none;
  }
}